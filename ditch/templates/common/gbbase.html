<!DOCTYPE HTML>
<html>
<head lang="en">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>{% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="/static/css/reset.css" type="text/css" media="screen">
    <!--
    <link rel="stylesheet" href="/static/css/bootstrap.css" type="text/css" media="screen">
    -->
    {% if production_mode %}
        <link rel="stylesheet" href="/static/css/main.css" type="text/css" media="screen">
    {% else %}
        <link rel="stylesheet/less" href="/static/less/layout.less" type="text/css" media="screen">
        <link rel="stylesheet/less" href="/static/less/main.less" type="text/css" media="screen">
        <link rel="stylesheet/less" href="/static/less/nav.less" type="text/css" media="screen">
        <link rel="stylesheet/less" href="/static/less/banner.less" type="text/css" media="screen">
    {% endif %}
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    {% if production_mode %}
    {% else %}
    <script type="text/javascript">
        less = {
            env: "development", // or "production"
            async: false,       // load imports async
            fileAsync: false,   // load imports async when in a page under
            // a file protocol
            poll: 1000,         // when in watch mode, time in ms between polls
            functions: {},      // user functions, keyed by name
            dumpLineNumbers: "comments", // or "mediaQuery" or "all"
            relativeUrls: false,// whether to adjust url's to be relative
            // if false, url's are already relative to the
            // entry less file
            //rootpath: ":/a.com/"// a path to add on to the start of every url
            //resource
        };
    </script>
    <script type="text/javascript" src="/static/js/library/less.js">
    </script>
    <script type="text/javascript">
        less.watch();
    </script>
    {% endif %}
    <script type="text/javascript">
        // Avoid issues in IE* where console is not defined!
        if (!window.console) {
            window.console = {};
            window.console.log = function() {};
        }

        console.log("Production mode:" + "{{production_mode}}");

        var less = {env :"development"};

        console.log("Hostname is " + location.host);
        gbBasePath = location.protocol + '//' + location.host + "/js/";
        if (location.host.search('localhost') >= 0 || location.host.search("bondinorthpro") >= 0) {
            console.log("Setting up for localhost.");
            gbBasePath = location.protocol + '//' + location.host + "/js/";
        }
    </script>
</head>
<body>

    {% include 'common/gbtopbar.html' %}
    <div id="outerframe">
    <div id="frame">
    {% load gbtags %}
    {% include 'common/gbbanner.html' %}
    {% include 'common/gbnavigation.html' %}

    {% block site_wrapper %}
    {% endblock %}


    <script type="text/javascript" src="/static/js/library/jquery-1.8.0.min.js"></script>
    <script type="text/javascript" src="/static/js/library/jquery-ui-1.8.21.custom.min.js"></script>
    <script type="text/javascript" src="/static/js/library/bootstrap.js"></script>
    <script type="text/javascript" src="/static/js/library/underscore.js"></script>
    <script type="text/javascript" src="/static/js/library/jquery.download.js"></script>
    <script type="text/javascript" src="/static/js/library/json2.js"></script>

    {% block site_scripts %}
    {% endblock %}
    </div>
    </div>
</body>
</html>
